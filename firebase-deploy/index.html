<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>모두의 모델하우스 - 모모</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='bg' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' style='stop-color:%2326a69a;stop-opacity:1' /><stop offset='100%' style='stop-color:%2300897b;stop-opacity:1' /></linearGradient></defs><rect width='100' height='100' fill='url(%23bg)' rx='8'/><rect x='15' y='20' width='70' height='60' fill='%23ffffff' rx='4'/><rect x='25' y='30' width='20' height='15' fill='%2326a69a' rx='2'/><rect x='55' y='30' width='20' height='15' fill='%2326a69a' rx='2'/><rect x='25' y='55' width='20' height='15' fill='%2326a69a' rx='2'/><rect x='55' y='55' width='20' height='15' fill='%2326a69a' rx='2'/><text x='50' y='85' text-anchor='middle' font-family='Arial, sans-serif' font-size='16' font-weight='bold' fill='%23ffffff'>모모</text></svg>">
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Top Right Auth Buttons -->
    <div class="top-auth-buttons">
        <!-- 로그인하지 않은 경우 -->
        <div id="guestButtons">
            <a href="/login" class="auth-btn">로그인</a>
            <span class="separator">/</span>
            <a href="/signup" class="auth-btn">회원가입</a>
        </div>
        
        <!-- 로그인한 경우 -->
        <div id="userButtons" style="display: none;">
            <span class="user-info">
                <i class="fas fa-user"></i>
                <span id="username">사용자</span>
            </span>
            <span class="separator">|</span>
            <a href="/logout" class="auth-btn logout-btn">
                <i class="fas fa-sign-out-alt"></i> 로그아웃
            </a>
            
            <!-- 관리자인 경우에만 관리자 버튼 표시 -->
            <div id="adminSection" style="display: none;">
                <span class="separator">|</span>
                <a href="/admin" class="auth-btn admin-link">
                    <i class="fas fa-user-shield"></i> 관리자
                </a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="main-title">모두의 모델하우스</h1>
                <h2 class="brand-title">"모모"</h2>
            </div>
        </section>

        <!-- Search Section -->
        <section class="search-section">
            <div class="search-container">
                <form action="/search" method="get" style="display: flex; width: 100%;">
                    <input type="text" name="q" class="search-input" placeholder="지역명, 모델하우스명, 카테고리를 입력하세요...">
                    <button type="submit" class="search-btn">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div>
        </section>

        <!-- Model House Carousel Section -->
        <section class="carousel-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h2 class="section-title">최근 등록된 모델하우스</h2>
            </div>
            <div class="carousel-container">
                <div class="carousel-track">
                    <!-- 정적 모델하우스 카드 (Firebase Hosting용) -->
                    <div class="carousel-item" data-model-id="1" data-lat="37.5665" data-lng="126.9780">
                        <div class="model-preview">
                            <div class="preview-image-container">
                                <div class="preview-image modern-house">
                                    <i class="fas fa-home"></i>
                                    <div class="house-type">모던</div>
                                </div>
                            </div>
                            <h3 class="model-title">강남 모던하우스</h3>
                        </div>
                    </div>
                    
                    <div class="carousel-item" data-model-id="2" data-lat="37.5248" data-lng="127.0400">
                        <div class="model-preview">
                            <div class="preview-image-container">
                                <div class="preview-image traditional-house">
                                    <i class="fas fa-home"></i>
                                    <div class="house-type">전통</div>
                                </div>
                            </div>
                            <h3 class="model-title">서초 전통하우스</h3>
                        </div>
                    </div>
                    
                    <div class="carousel-item" data-model-id="3" data-lat="37.5563" data-lng="126.9236">
                        <div class="model-preview">
                            <div class="preview-image-container">
                                <div class="preview-image luxury-house">
                                    <i class="fas fa-home"></i>
                                    <div class="house-type">럭셔리</div>
                                </div>
                            </div>
                            <h3 class="model-title">마포 럭셔리하우스</h3>
                        </div>
                    </div>
                    
                    <!-- 동적 모델하우스 카드 (백엔드 데이터 연동) -->
                    <div class="carousel-item" data-model-id="4" data-lat="37.5665" data-lng="126.9780">
                        <div class="model-preview">
                            <div class="preview-image-container">
                                <div class="preview-image modern-house">
                                    <i class="fas fa-home"></i>
                                    <div class="house-type">아파트</div>
                                </div>
                            </div>
                            <h3 class="model-title">서울숲 모던하우스</h3>
                            <p class="model-price">5억원</p>
                            <p class="model-address">서울특별시 성동구 서울숲2길 18</p>
                        </div>
                    </div>
                    
                    <div class="carousel-item" data-model-id="5" data-lat="37.5248" data-lng="127.0400">
                        <div class="model-preview">
                            <div class="preview-image-container">
                                <div class="preview-image luxury-house">
                                    <i class="fas fa-home"></i>
                                    <div class="house-type">오피스텔</div>
                                </div>
                            </div>
                            <h3 class="model-title">강남 프리미엄 오피스텔</h3>
                            <p class="model-price">3억원</p>
                            <p class="model-address">서울특별시 강남구 테헤란로 123</p>
                        </div>
                    </div>
                    
                    <div class="carousel-item" data-model-id="6" data-lat="37.5563" data-lng="126.9236">
                        <div class="model-preview">
                            <div class="preview-image-container">
                                <div class="preview-image traditional-house">
                                    <i class="fas fa-home"></i>
                                    <div class="house-type">상가</div>
                                </div>
                            </div>
                            <h3 class="model-title">홍대 창업 오피스</h3>
                            <p class="model-price">2억원</p>
                            <p class="model-address">서울특별시 마포구 홍대로 123</p>
                        </div>
                    </div>
                    
                    <!-- 추가 샘플 카드 -->
                    <div class="carousel-item" data-model-id="7" data-lat="37.5665" data-lng="126.9780">
                        <div class="model-preview">
                            <div class="preview-image-container">
                                <div class="preview-image modern-house">
                                    <i class="fas fa-home"></i>
                                    <div class="house-type">모던</div>
                                </div>
                            </div>
                            <h3 class="model-title">신축 모던하우스</h3>
                            <p class="model-price">4억원</p>
                            <p class="model-address">서울특별시 강남구</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="/js/script.js"></script>
    <script>
        // 페이지 로드 시 인증 상태 확인
        document.addEventListener('DOMContentLoaded', function() {
            // Firebase Hosting용 정적 인증 상태 (기본값: 비로그인)
            const isLoggedIn = false;
            const isAdmin = false;
            const currentUser = null;
            
            updateAuthUI(isLoggedIn, isAdmin, currentUser);
        });
        
        // 인증 상태에 따른 UI 업데이트 함수
        function updateAuthUI(isLoggedIn, isAdmin, currentUser) {
            const guestButtons = document.getElementById('guestButtons');
            const userButtons = document.getElementById('userButtons');
            const adminSection = document.getElementById('adminSection');
            const usernameSpan = document.getElementById('username');
            
            if (isLoggedIn && currentUser) {
                guestButtons.style.display = 'none';
                userButtons.style.display = 'block';
                usernameSpan.textContent = currentUser;
                
                if (isAdmin) {
                    adminSection.style.display = 'block';
                } else {
                    adminSection.style.display = 'none';
                }
            } else {
                guestButtons.style.display = 'block';
                userButtons.style.display = 'none';
                adminSection.style.display = 'none';
            }
        }
    </script>
</body>
</html>
